"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[305],{305:(t,e,s)=>{s.r(e),s.d(e,{default:()=>r});const n={data:function(){return{errors:[],email:null,password:null,alert:[]}},components:{},created:function(){this.getUser()},methods:{getUser:function(){var t=this;axios.get("users/auth").then((function(e){"success"==e.data.status&&(t.$store.state.user=e.data.data,t.$router.push("/"))})).catch((function(t){t.response.status}))},login:function(){var t=this;this.errors=[],axios.post("login",{email:this.email,password:this.password}).then((function(e){t.alert=e.data,"success"===e.data.status?(t.$store.state.user=e.data.data,setTimeout((function(){}),2e3),t.$router.push("/")):(t.email=null,t.password=null)})).catch((function(e){t.errors=e.response.data.errors}))},iconFunction:function(t){return"success"==t?"mdi-check":"mdi-close"}},watch:{alert:function(){0!=this.alert.length&&setTimeout(function(){this.alert=[]}.bind(this),5e3)}}};const r=(0,s(900).Z)(n,(function(){var t=this,e=t._self._c;return e("v-main",[0!=t.alert.length?e("div",{staticClass:"flex-row-reverse d-flex"},[e("v-col",{staticClass:"mt-8",staticStyle:{position:"fixed","z-index":"1"},attrs:{cols:"12",sm:"12",md:"2",lg:"2"}},[e("v-snackbar",{attrs:{transition:"slide-x-reverse-transition",timeout:4e3,value:!0,absolute:"",top:"",right:"",color:t.alert.status,elevation:"24"}},[e("v-row",[e("v-icon",{staticClass:"mx-3",attrs:{small:""}},[t._v("\n                        "+t._s(t.iconFunction(t.alert.status))+"\n                    ")]),t._v(" "),e("v-spacer"),t._v(" "),e("span",{staticClass:"justify-end mx-6 body-2 font-weight-bold"},[t._v("\n                        "+t._s(t.alert.message)+"\n                    ")])],1)],1)],1)],1):t._e(),t._v(" "),e("v-container",{staticClass:"fill-height",attrs:{fluid:""}},[e("v-row",{attrs:{align:"center",justify:"center"}},[e("v-col",{attrs:{cols:"12",sm:"12",md:"4",lg:"4"}},[e("v-form",{on:{submit:function(e){return e.preventDefault(),t.login()}}},[e("v-card",{staticClass:"overflow-hidden rounded-xl blur shadow-blur"},[e("v-card-text",[e("h1",{staticClass:"mt-4 mb-4 text-center"},[e("v-icon",{attrs:{color:"error",large:""}},[t._v("\n                                    mdi-television-play\n                                ")]),t._v(" "),e("strong",[t._v("Admin GeniusTV")])],1),t._v(" "),e("v-text-field",{attrs:{autofocus:"","error-messages":t.errors.email,label:"Email",name:"username","prepend-inner-icon":"mdi-account",type:"text"},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}}),t._v(" "),e("v-text-field",{attrs:{"error-messages":t.errors.password,label:"Heslo",name:"password","prepend-inner-icon":"mdi-lock",type:"password"},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}})],1),t._v(" "),e("v-card-actions",[e("v-spacer"),t._v(" "),e("v-btn",{staticClass:"rounded-lg",attrs:{text:"",type:"submit",color:"success",outlined:""}},[t._v("Přihlášení")])],1)],1)],1)],1)],1)],1)],1)}),[],!1,null,null,null).exports},900:(t,e,s)=>{function n(t,e,s,n,r,a,o,i){var l,c="function"==typeof t?t.options:t;if(e&&(c.render=e,c.staticRenderFns=s,c._compiled=!0),n&&(c.functional=!0),a&&(c._scopeId="data-v-"+a),o?(l=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),r&&r.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(o)},c._ssrRegister=l):r&&(l=i?function(){r.call(this,(c.functional?this.parent:this).$root.$options.shadowRoot)}:r),l)if(c.functional){c._injectStyles=l;var u=c.render;c.render=function(t,e){return l.call(e),u(t,e)}}else{var d=c.beforeCreate;c.beforeCreate=d?[].concat(d,l):[l]}return{exports:t,options:c}}s.d(e,{Z:()=>n})}}]);