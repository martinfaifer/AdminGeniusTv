"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[899],{6236:(t,e,a)=>{a.d(e,{Z:()=>o});const l={props:["value","label","type","error","placeholder"],data:function(){return{}},created:function(){},methods:{updateValue:function(t){this.$emit("input",t)}}};const o=(0,a(1900).Z)(l,(function(){var t=this,e=t._self._c;return e("div",[e("v-text-field",t._b({attrs:{dense:"",placeholder:t.placeholder,label:t.label,type:t.type,value:t.value,"error-messages":t.error,outlined:"",clearable:""},on:{input:function(e){return t.updateValue(e)}}},"v-text-field",t.$attrs,!1))],1)}),[],!1,null,null,null).exports},2899:(t,e,a)=>{a.r(e),a.d(e,{default:()=>i});var l=a(9669),o=a.n(l);const r={components:{BaseInput:a(6236).Z},data:function(){return{fileUploadLoader:!1,deleteAppDialog:!1,uploadDialog:!1,formData:[],errors:[],apps:[],file:[],search:"",headersApps:[{text:"Název",value:"title"},{text:"Popis",value:"text"},{text:"",value:"actions"}]}},created:function(){this.index()},methods:{index:function(){var t=this;o().get("marketing").then((function(e){t.apps=e.data.data}))},selectFile:function(t){this.file=t},openUploadAppDialog:function(){this.fileUploadLoader=!1,this.uploadDialog=!0},uploadFile:function(){var t=this;this.fileUploadLoader=!0;var e=new FormData;e.append("file",this.file,this.file.name),e.append("title",this.formData.title),e.append("text",this.formData.text),o().post("marketing",e).then((function(e){t.$store.state.alerts=e.data,t.closeDialog()})).catch((function(e){t.fileUploadLoader=!1,t.errors=e.response.data.errors}))},openDeleteAppDialog:function(t){this.formData.id=t,this.deleteAppDialog=!0},deleteApp:function(){var t=this;o().delete("marketing/"+this.formData.id).then((function(e){t.$store.state.alerts=e.data,t.closeDialog()}))},closeDialog:function(){this.index(),this.uploadDialog=!1,this.fileUploadLoader=!0,this.deleteAppDialog=!1,this.formData=[],this.errors=[],this.file=[]}}};const i=(0,a(1900).Z)(r,(function(){var t=this,e=t._self._c;return e("div",[e("v-row",[e("v-col",{attrs:{cols:"12",sm:"12",md:"12",lg:"12",xl:"12"}},[e("v-card",{staticClass:"overflow-hidden rounded-xl blur shadow-blur",attrs:{flat:""}},[e("v-card-subtitle",{staticClass:"text-center font-weight-medium"},[t._v("\n                    Nahrané soubory\n                    "),e("v-btn",{staticClass:"mr-3",staticStyle:{position:"fixed",right:"0px"},attrs:{icon:"",color:"green",small:""},on:{click:function(e){return t.openUploadAppDialog()}}},[e("v-icon",{attrs:{small:""}},[t._v("mdi-plus")])],1)],1),t._v(" "),e("v-card-text",[e("v-container",{attrs:{fluid:""}},[e("v-row",[e("v-col",{attrs:{cols:"12"}},[e("v-text-field",{attrs:{"preppend-inner-icon":"mdi-magnify",label:"Vyhledat ...","single-line":"","hide-details":"",autofocus:""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}}),t._v(" "),e("v-spacer")],1),t._v(" "),e("v-col",{attrs:{cols:"12"}},[e("v-data-table",{attrs:{headers:t.headersApps,items:t.apps,search:t.search},scopedSlots:t._u([{key:"item.actions",fn:function(a){var l=a.item;return[e("v-row",[e("v-icon",{attrs:{small:"",color:"red"},on:{click:function(e){return t.openDeleteAppDialog(l.id)}}},[t._v("mdi-delete")])],1)]}}])})],1)],1)],1)],1)],1)],1)],1),t._v(" "),e("v-row",{staticClass:"center"},[e("v-dialog",{attrs:{persistent:"","max-width":"800px"},model:{value:t.uploadDialog,callback:function(e){t.uploadDialog=e},expression:"uploadDialog"}},[e("v-card",[e("v-card-text",[e("v-container",{staticClass:"pt-12",attrs:{fluid:""}},[e("v-row",[e("v-col",{attrs:{cols:"12",sm:"12",md:"12",lg:"12"}},[e("v-file-input",{attrs:{outlined:"",dense:"",label:"Nahrajte soubor",error:t.errors.file,"show-size":"",clearable:""},on:{change:t.selectFile}})],1),t._v(" "),e("v-col",{attrs:{cols:"12"}},[e("BaseInput",{attrs:{label:"Popis",type:"text",error:t.errors.title},model:{value:t.formData.title,callback:function(e){t.$set(t.formData,"title",e)},expression:"formData.title"}})],1),t._v(" "),e("v-col",{attrs:{cols:"12",sm:"12",md:"12",lg:"12"}},[e("v-textarea",{attrs:{"prepend-inner-icon":"mdi-comment-text",outlined:"",label:"Popis aplikace",error:t.errors.text,counter:"250"},model:{value:t.formData.text,callback:function(e){t.$set(t.formData,"text",e)},expression:"formData.text"}})],1)],1)],1)],1),t._v(" "),e("v-card-actions",[e("v-btn",{attrs:{plain:"",outlined:"",color:"blue darken-1"},on:{click:function(e){return t.closeDialog()}}},[e("v-icon",{staticClass:"mr-3"},[t._v(" mdi-close ")]),t._v("\n                        Zavřít\n                    ")],1),t._v(" "),e("v-spacer"),t._v(" "),e("v-btn",{attrs:{loading:t.fileUploadLoader,disabled:!t.formData.title||0==t.file.length,plain:"",outlined:"",color:"green darken-1"},on:{click:function(e){return t.uploadFile()}}},[e("v-icon",{staticClass:"mr-3"},[t._v("mdi-plus")]),t._v("\n                        Nahrát\n                    ")],1)],1)],1)],1),t._v(" "),e("v-dialog",{attrs:{persistent:"","max-width":"400px"},model:{value:t.deleteAppDialog,callback:function(e){t.deleteAppDialog=e},expression:"deleteAppDialog"}},[e("v-card",[e("v-card-text",[e("v-container",{staticClass:"pt-3"},[e("v-row",[e("v-col",{attrs:{cols:"12",sm:"12",md:"12",lg:"12"}},[e("p",{staticClass:"mt-6 text-center headline"},[t._v("\n                                    Přejete si odebrat soubor?\n                                ")])])],1)],1)],1),t._v(" "),e("v-card-actions",[e("v-btn",{attrs:{color:"blue darken-1",plain:"",outlined:""},on:{click:function(e){return t.closeDialog()}}},[t._v("\n                        Zavřít\n                    ")]),t._v(" "),e("v-spacer"),t._v(" "),e("v-btn",{attrs:{color:"red darken-1",plain:"",outlined:""},on:{click:function(e){return t.deleteApp()}}},[t._v("\n                        Odebrat\n                    ")])],1)],1)],1)],1)],1)}),[],!1,null,null,null).exports}}]);