"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[105],{6236:(t,e,a)=>{a.d(e,{Z:()=>o});const n={props:["value","label","type","error","placeholder"],data:function(){return{}},created:function(){},methods:{updateValue:function(t){this.$emit("input",t)}}};const o=(0,a(1900).Z)(n,(function(){var t=this,e=t._self._c;return e("div",[e("v-text-field",t._b({attrs:{dense:"",placeholder:t.placeholder,label:t.label,type:t.type,value:t.value,"error-messages":t.error,outlined:"",clearable:""},on:{input:function(e){return t.updateValue(e)}}},"v-text-field",t.$attrs,!1))],1)}),[],!1,null,null,null).exports},6105:(t,e,a)=>{a.r(e),a.d(e,{default:()=>i});var n=a(9669),o=a.n(n);const r={components:{BaseInput:a(6236).Z},data:function(){return{editDialog:!1,deleteDialog:!1,createDialog:!1,formData:[],news:[],maintenances:[],errors:[],benched:0,headers:[{text:"Titulek",value:"title"},{text:"Obsah",value:"text"},{text:"",value:"actions"}]}},created:function(){this.getNews(),this.getMaintenances()},methods:{getNews:function(){var t=this;o().get("news/channels-info").then((function(e){t.news=e.data.data}))},getMaintenances:function(){var t=this;o().get("news/maintenances").then((function(e){t.maintenances=e.data.data}))},openCreateDialog:function(t){this.formData.type=t,this.createDialog=!0},createItem:function(){var t=this;o().post("news/"+this.formData.type,{title:this.formData.title,text:this.formData.text}).then((function(e){t.$store.state.alerts=e.data,t.closeDialog(),t.getNews(),t.getMaintenances()})).catch((function(e){t.errors=e.response.data.errors}))},openEditDialog:function(t,e){this.formData=t,this.formData.type=e,this.editDialog=!0},openDeleteDialog:function(t,e){this.formData.itemId=t,this.formData.type=e,this.deleteDialog=!0},deleteItem:function(){var t=this;o().delete("news/"+this.formData.type+"/"+this.formData.itemId).then((function(e){t.$store.state.alerts=e.data,t.closeDialog(),t.getNews(),t.getMaintenances()}))},editItem:function(){var t=this;o().patch("news/"+this.formData.type+"/"+this.formData.id,{title:this.formData.title,text:this.formData.text}).then((function(e){t.$store.state.alerts=e.data,t.closeDialog(),t.getNews(),t.getMaintenances()})).catch((function(e){t.errors=e.response.data.errors}))},closeDialog:function(){this.editDialog=!1,this.deleteDialog=!1,this.createDialog=!1,this.formData=[]}}};const i=(0,a(1900).Z)(r,(function(){var t=this,e=t._self._c;return e("div",[e("v-row",[e("v-col",{attrs:{cols:"12",sm:"12",md:"6",lg:"6",xl:"6"}},[e("v-card",{staticClass:"overflow-hidden rounded-xl blur shadow-blur",attrs:{flat:""}},[e("v-card-subtitle",{staticClass:"text-center font-weight-medium"},[t._v("\n                    Novinky\n                    "),e("v-btn",{staticClass:"mr-3",staticStyle:{position:"fixed",right:"0px"},attrs:{icon:"",color:"green",small:""},on:{click:function(e){return t.openCreateDialog("channels-info")}}},[e("v-icon",{attrs:{small:""}},[t._v("mdi-plus")])],1)],1),t._v(" "),e("v-card-text",[e("v-container",{attrs:{fluid:""}},[e("v-row",[e("v-col",{attrs:{cols:"12"}},[e("v-data-table",{attrs:{headers:t.headers,items:t.news},scopedSlots:t._u([{key:"item.actions",fn:function(a){var n=a.item;return[e("v-row",[e("v-icon",{attrs:{small:"",color:"green"},on:{click:function(e){return t.openEditDialog(n,"channels-info")}}},[t._v("mdi-pencil")]),t._v(" "),e("v-icon",{attrs:{small:"",color:"red"},on:{click:function(e){return t.openDeleteDialog(n.id,"channels-info")}}},[t._v("mdi-delete")])],1)]}}])})],1)],1)],1)],1)],1)],1),t._v(" "),e("v-col",{attrs:{cols:"12",sm:"12",md:"6",lg:"6",xl:"6"}},[e("v-card",{staticClass:"overflow-hidden rounded-xl blur shadow-blur",attrs:{flat:""}},[e("v-card-subtitle",{staticClass:"text-center font-weight-medium"},[t._v("\n                    Plánované výpadky\n                    "),e("v-btn",{staticClass:"mr-3",staticStyle:{position:"fixed",right:"0px"},attrs:{icon:"",color:"green",small:""},on:{click:function(e){return t.openCreateDialog("maintenances")}}},[e("v-icon",{attrs:{small:""}},[t._v("mdi-plus")])],1)],1),t._v(" "),e("v-card-text",[e("v-container",{attrs:{fluid:""}},[e("v-row",[e("v-col",{attrs:{cols:"12"}},[e("v-data-table",{attrs:{headers:t.headers,items:t.maintenances},scopedSlots:t._u([{key:"item.actions",fn:function(a){var n=a.item;return[e("v-row",[e("v-icon",{attrs:{small:"",color:"green"},on:{click:function(e){return t.openEditDialog(n,"maintenances")}}},[t._v("mdi-pencil")]),t._v(" "),e("v-icon",{attrs:{small:"",color:"red"},on:{click:function(e){return t.openDeleteDialog(n.id,"maintenances")}}},[t._v("mdi-delete")])],1)]}}])})],1)],1)],1)],1)],1)],1)],1),t._v(" "),e("v-row",{staticClass:"center"},[e("v-dialog",{attrs:{persistent:"","max-width":"400px"},model:{value:t.deleteDialog,callback:function(e){t.deleteDialog=e},expression:"deleteDialog"}},[e("v-card",[e("v-card-text",[e("v-container",{staticClass:"pt-3"},[e("v-row",[e("v-col",{attrs:{cols:"12",sm:"12",md:"12",lg:"12"}},[e("p",{staticClass:"mt-6 text-center headline"},[t._v("\n                                    Přejete si odebrat článek?\n                                ")])])],1)],1)],1),t._v(" "),e("v-card-actions",[e("v-btn",{attrs:{color:"blue darken-1",plain:"",outlined:""},on:{click:function(e){return t.closeDialog()}}},[t._v("\n                        Zavřít\n                    ")]),t._v(" "),e("v-spacer"),t._v(" "),e("v-btn",{attrs:{color:"red darken-1",plain:"",outlined:""},on:{click:function(e){return t.deleteItem()}}},[t._v("\n                        Odebrat\n                    ")])],1)],1)],1),t._v(" "),e("v-dialog",{attrs:{persistent:"","max-width":"800px"},model:{value:t.editDialog,callback:function(e){t.editDialog=e},expression:"editDialog"}},[e("v-card",[e("v-card-text",[e("v-container",{staticClass:"pt-12",attrs:{fluid:""}},[e("v-row",[e("v-col",{attrs:{cols:"12",sm:"12",md:"12",lg:"12"}},[e("BaseInput",{attrs:{label:"Titulek",type:"text",error:t.errors.title},model:{value:t.formData.title,callback:function(e){t.$set(t.formData,"title",e)},expression:"formData.title"}})],1),t._v(" "),e("v-col",{attrs:{cols:"12"}},[e("v-textarea",{attrs:{error:t.errors.text,outlined:""},model:{value:t.formData.text,callback:function(e){t.$set(t.formData,"text",e)},expression:"formData.text"}})],1)],1)],1)],1),t._v(" "),e("v-card-actions",[e("v-btn",{attrs:{color:"blue darken-1",plain:"",outlined:""},on:{click:function(e){return t.closeDialog()}}},[t._v("\n                        Zavřít\n                    ")]),t._v(" "),e("v-spacer"),t._v(" "),e("v-btn",{attrs:{color:"green darken-1",plain:"",outlined:""},on:{click:function(e){return t.editItem()}}},[t._v("\n                        Upravit\n                    ")])],1)],1)],1),t._v(" "),e("v-dialog",{attrs:{persistent:"","max-width":"800px"},model:{value:t.createDialog,callback:function(e){t.createDialog=e},expression:"createDialog"}},[e("v-card",[e("v-card-text",[e("v-container",{staticClass:"pt-12",attrs:{fluid:""}},[e("v-row",[e("v-col",{attrs:{cols:"12",sm:"12",md:"12",lg:"12"}},[e("BaseInput",{attrs:{label:"Titulek",type:"text",error:t.errors.title},model:{value:t.formData.title,callback:function(e){t.$set(t.formData,"title",e)},expression:"formData.title"}})],1),t._v(" "),e("v-col",{attrs:{cols:"12"}},[e("v-textarea",{attrs:{error:t.errors.text,outlined:""},model:{value:t.formData.text,callback:function(e){t.$set(t.formData,"text",e)},expression:"formData.text"}})],1)],1)],1)],1),t._v(" "),e("v-card-actions",[e("v-btn",{attrs:{color:"blue darken-1",plain:"",outlined:""},on:{click:function(e){return t.closeDialog()}}},[t._v("\n                        Zavřít\n                    ")]),t._v(" "),e("v-spacer"),t._v(" "),e("v-btn",{attrs:{color:"green darken-1",plain:"",outlined:""},on:{click:function(e){return t.createItem()}}},[t._v("\n                        Vytvořit\n                    ")])],1)],1)],1)],1)],1)}),[],!1,null,null,null).exports}}]);